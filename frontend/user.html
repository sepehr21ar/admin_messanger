<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>ØµÙ†Ø¯ÙˆÙ‚ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§</title>
<style>
  body { font-family: Arial; padding: 20px; direction: rtl; background: #f5f5f5; }
  h2 { color: #333; }
  button { padding: 8px 12px; margin: 5px 0; background: #4CAF50; color: white; border: none; cursor: pointer; }
  button:hover { background: #45a049; }
  ul { list-style-type: none; padding: 0; }
  li { background: white; margin: 5px 0; padding: 10px; border-radius: 5px; box-shadow: 0 0 3px rgba(0,0,0,0.1); }
</style>
</head>
<body>

<h2>ðŸ“¥ ØµÙ†Ø¯ÙˆÙ‚ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§</h2>
<button onclick="logout()">Ø®Ø±ÙˆØ¬</button>
<button onclick="loadInbox()">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ</button>

<ul id="inbox"></ul>

<script src="./common.js"></script>
<script>
if (!parseToken()) logout();

async function loadInbox() {
  const res = await fetch(API_URL + "/messages/inbox", { headers: authHeaders() });
  const list = document.getElementById("inbox");
  list.innerHTML = "";
  (await res.json()).forEach(m => {
    list.innerHTML += `<li><b>${m.title}</b>: ${m.content}</li>`;
  });
}
</script>
</body>
</html>
